<%- include("partials/top") %>
    <title>Who is that pokemon?</title>
    </head>

    <body id="whosThatPokemon">
        <%- include("partials/header") %>
            <main>
                <h1>wie is deze pokemon?</h1>

                <div id="background">
                    <section id="test">
                        <img id="pokemon" src=<%=randomSprite %>
                    </section>
                </div>

                <form action="input">
                    <div class="suggestion-container">
                        <input type="text" id="inputField" placeholder="Type here...">
                        <ul id="suggestionList"></ul>
                    </div>
                    <button id="arrow">â–¶</button>
                </form>
                <script>
                    document.addEventListener('DOMContentLoaded', () => {
                        const inputField = document.getElementById('inputField');
                        const suggestionList = document.getElementById('suggestionList');

                        // Sample Pokemon data
                        const pokemonList = [
                            {
                                id: 1,
                                name: 'Bulbasaur',
                                sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png'
                            },
                            {
                                id: 2,
                                name: 'Ivysaur',
                                sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/2.png'
                            },
                            // Add more Pokemon as needed
                        ];

                        inputField.addEventListener('input', () => {
                            const query = inputField.value.toLowerCase();
                            suggestionList.innerHTML = '';

                            if (query) {
                                const filteredSuggestions = pokemonList.filter(pokemon => pokemon.name.toLowerCase().startsWith(query));

                                filteredSuggestions.forEach(pokemon => {
                                    const li = document.createElement('li');
                                    const img = document.createElement('img');
                                    img.src = pokemon.sprite;
                                    const span = document.createElement('span');
                                    span.textContent = pokemon.name;

                                    li.appendChild(img);
                                    li.appendChild(span);
                                    suggestionList.appendChild(li);

                                    li.addEventListener('click', () => {
                                        inputField.value = pokemon.name;
                                        suggestionList.innerHTML = '';
                                        suggestionList.style.display = 'none';
                                    });
                                });

                                if (filteredSuggestions.length > 0) {
                                    suggestionList.style.display = 'block';
                                } else {
                                    suggestionList.style.display = 'none';
                                }
                            } else {
                                suggestionList.style.display = 'none';
                            }
                        });

                        document.addEventListener('click', (e) => {
                            if (!inputField.contains(e.target) && !suggestionList.contains(e.target)) {
                                suggestionList.style.display = 'none';
                            }
                        });
                    });
                </script>


                <h2 id="guesStreak"> streak </h2>
            </main>
            <footer>
                <button><a href="mainpage">Terug</a></button>
            </footer>
            <%- include("partials/bottom") %>